Скрипт анализирует выбранный Telegram-чат (группу или супергруппу) за последние 7 дней и формирует JSON-отчёт по обсуждениям — количество сообщений и участников в каждом треде (reply или topic).

Подход и зависимости

Решение построено на Node.js + TypeScript, с использованием библиотеки telegram
для работы с Telegram API.

Архитектура разделена на три модуля:

telegram.ts — подключение, авторизация и загрузка сообщений;
aggregate.ts — агрегация и построение статистики по дням и тредам;
index.ts — CLI-оболочка и запуск анализа.

Установка
npm install
Создайте файл .env:

API_ID=your_api_id
API_HASH=your_api_hash
SESSION_FILE=.session/tg.session

Запуск
npm run dev

Введите:
@chat или ID группы
timezone (по умолчанию Asia/Tashkent)

Примечание

Скрипт учитывает только reply-цепочки и форум-топики.
Одиночные сообщения без ответов в отчёт не включаются.
